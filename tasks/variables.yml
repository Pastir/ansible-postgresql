---

- name: Include Ubuntu variables.
  include_vars: "{{ ansible_distribution }}-{{ ansible_distribution_major_version }}.yml"
  when: ansible_distribution == 'Ubuntu' and ansible_distribution_major_version == '20'

- name: Define postgresql_version.
  set_fact:
    postgresql_version: "{{ __postgresql_version }}"
  when: postgresql_version is not defined

- name: Define postgresql_daemon.
  set_fact:
    postgresql_daemon: "{{ __postgresql_daemon }}"
  when: postgresql_daemon is not defined

- name: Define postgresql_data_dir.
  set_fact:
    postgresql_data_directory: "{{ __postgresql_data_directory }}"
  when: postgresql_data_directory is not defined

- name: Define postgresql_hba_file.
  set_fact:
    postgresql_hba_file: "{{ __postgresql_hba_file }}"
  when: postgresql_hba_file is not defined

- name: Define postgresql_user.
  set_fact:
    postgresql_user: "{{ __postgresql_user }}"
  when: postgresql_user is not defined

- name: Define postgresql_group.
  set_fact:
    postgresql_group: "{{ __postgresql_group }}"
  when: postgresql_group is not defined

- name: Define postgresql_config_path.
  set_fact:
    postgresql_config_path: "{{ __postgresql_config_path }}"
  when: postgresql_config_path is not defined

- name: Define postgresql_unix_socket_directories_mode.
  set_fact:
    postgresql_unix_socket_directories_mode: >-
      {{ __postgresql_unix_socket_directories_mode | default('02775') }}
  when: postgresql_unix_socket_directories_mode is not defined